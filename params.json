{"name":"H2-gradle-plugin","body":"# Gradle H2 Plugin\r\n\r\n![H2 Logo](http://www.h2database.com/html/images/h2-logo.png)\r\n\r\n[![Build Status](https://secure.travis-ci.org/jamescarr/h2-gradle-plugin.png?branch=master)](http://travis-ci.org/jamescarr/h2-gradle-plugin)\r\n\r\nThis plugin provides the capability of running and populating an embedded H2 database as part of a gradle build,\r\nperfect for integration testing with embedded web containers.\r\n\r\n## Usage\r\n\r\nTo use the h2 plugin, include the following in your buildscript:\r\n\r\n```groovy\r\napply plugin: 'h2'\r\n\r\nbuildscript {\r\n    repositories {\r\n        add(new org.apache.ivy.plugins.resolver.URLResolver()) {\r\n            name = 'GitHub'\r\n            addArtifactPattern 'http://cloud.github.com/downloads/[organisation]/[module]/[module]-[revision].[ext]'\r\n        }\r\n        mavenCentral() // or alternatively your own maven resolver\r\n    }\r\n\r\n    dependencies {\r\n        classpath 'jamescarr:h2-gradle-plugin:0.8.2'\r\n        classpath 'com.h2database:h2:1.3.164'  // choose your own version\r\n    }\r\n}\r\n\r\n```\r\n### Defining h2 configuration and database named 'example'\r\n\r\n```groovy\r\n\r\nh2 {\r\n\ttcpPort = 9092\r\n\twebPort = 8082\r\n\t\r\n\texample {\r\n\t\tscripts = [\r\n\t\t     'src/test/resources/cars.sql'\r\n\t\t   , 'src/test/resources/init-data.sql'\r\n\t\t]\r\n\t}\r\n}\r\n\r\n```\r\n\r\nthe inner closure databaseName will create a database with that name and populate it with scripts defined by the\r\nscript variable. You can have multiple database closures that will create multiple databases.\r\n\r\n```groovy\r\napply plugin: 'h2'\r\n\r\nh2 {\r\n\ttcpPort = 9092\r\n\twebPort = 8082\r\n\t\r\n\tone {\r\n\t\tscripts = [\r\n\t\t     'src/test/resources/cars.sql'\r\n\t\t   , 'src/test/resources/init-data.sql'\r\n\t\t]\r\n\t}\r\n\t\r\n\ttwo {\r\n\t\tscripts = [\r\n\t\t     'src/test/resources/boats.sql'\r\n\t\t   , 'src/test/resources/init-data.sql'\r\n\t\t]\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\n### Using with jettyRun\r\n\r\n```groovy\r\njettyRun.doFirst {\r\n  h2start.execute()\r\n}\r\n\r\n```\r\n\r\n### Using with tomcatRun\r\n\r\n```groovy\r\ntomcatRun.doFirst {\r\n  h2start.execute()\r\n}\r\n\r\n```\r\n\r\nMore to come.\r\n","tagline":"Gradle plugin to run an embedded h2 server","google":"UA-31755833-1","note":"Don't delete this file! It's used internally to help with page regeneration."}